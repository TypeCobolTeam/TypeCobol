Simplified Codegen for reference only. DO NOT ATTEMPT TO BUILD, DO NOT DEPLOY !
       IDENTIFICATION DIVISION.
       PROGRAM-ID. DVZZDATE.
       DATA DIVISION.
       WORKING-STORAGE SECTION.

                     
       local-STORAGE SECTION.
      *01  dateString    TYPEDEF strict PUBLIC    PIC 9(08).
       LINKAGE SECTION.
       01 TC-FunctionCode pic X(30).
      * Function which call program b8721d20
      * Which is generated code for DVZZDATE.currentDateString
           88 Fct-b8721d20-currentDateString
              value 'Fct=b8721d20-currentDateString'.


      *=================================================================
       PROCEDURE DIVISION USING TC-FunctionCode
                           .
           PERFORM INIT-LIBRARY
           PERFORM FctList-Process-Mode
           GOBACK.

       FctList-Process-Mode.
           evaluate true

              when Fct-b8721d20-currentDateString
                 call 'b8721d20'
              when other
                 Perform Handle-Error
           end-evaluate
           .
       Handle-Error.
           continue
           .
                                             
      *DECLARE FUNCTION currentDateString PUBLIC
      *    RETURNING Result TYPE dateString.

       END PROGRAM DVZZDATE.
      *
      *DECLARE FUNCTION currentDateString PUBLIC
      *    RETURNING Result TYPE dateString.
      *_________________________________________________________________
       IDENTIFICATION DIVISION.
       PROGRAM-ID. b8721d20.
       DATA DIVISION.
       LINKAGE SECTION.
      *DVZZDATE.currentDateString  - No Params
      *     returns(Result: dateString)
       01 Result PIC 9(08).
       PROCEDURE DIVISION
             USING BY REFERENCE Result
           .
      *DVZZDATE.currentDateString  - No Params
      *     returns(Result: dateString)
           display "toto"
           .
       END PROGRAM b8721d20.


